<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Automaton Core: schema.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="automaton-logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Automaton Core
   &#160;<span id="projectnumber">0.0.0.1</span>
   </div>
   <div id="projectbrief">Automaton Core: Smart Protocols at Scale</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('schema_8h_source.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">schema.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="schema_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#ifndef SCHEMA_H_</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="preprocessor">#define SCHEMA_H_</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="preprocessor">#include &lt;map&gt;</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &lt;string&gt;</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#include &lt;vector&gt;</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &lt;utility&gt;</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">  TODO(kari): how to make difference between schema_definition as a whole combo</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">  of message and enum schemas, and a single message/enum schema definition.</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">  It may be confusing.</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">  TODO(kari): field_info may become class. There are too many functions</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">  related to fields:</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">    * get_field_tag()</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">    * get_field_type_by_tag/name()</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">    * is_repeated()</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">    and others</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;</div><div class="line"><a name="l00021"></a><span class="lineno"><a class="line" href="classschema.html">   21</a></span>&#160;<span class="keyword">class </span><a class="code" href="classschema.html">schema</a> {</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l00026"></a><span class="lineno"><a class="line" href="classschema.html#ae674b0dfe6af47873d7af4539945349a">   26</a></span>&#160;  <span class="keyword">enum</span> <a class="code" href="classschema.html#ae674b0dfe6af47873d7af4539945349a">field_type</a> {</div><div class="line"><a name="l00027"></a><span class="lineno"><a class="line" href="classschema.html#ae674b0dfe6af47873d7af4539945349aa6512adf7f5102bbd85edf38b4230653b">   27</a></span>&#160;    <a class="code" href="classschema.html#ae674b0dfe6af47873d7af4539945349aa6512adf7f5102bbd85edf38b4230653b">unknown</a> = 0,</div><div class="line"><a name="l00028"></a><span class="lineno"><a class="line" href="classschema.html#ae674b0dfe6af47873d7af4539945349aaaf3be69297c8f35da0c78b6086d26a18">   28</a></span>&#160;    <a class="code" href="classschema.html#ae674b0dfe6af47873d7af4539945349aaaf3be69297c8f35da0c78b6086d26a18">message_type</a> =  1,</div><div class="line"><a name="l00029"></a><span class="lineno"><a class="line" href="classschema.html#ae674b0dfe6af47873d7af4539945349aa036b0bff8d38d541d918fb7ef3c9706d">   29</a></span>&#160;    <a class="code" href="classschema.html#ae674b0dfe6af47873d7af4539945349aa036b0bff8d38d541d918fb7ef3c9706d">enum_type</a> = 2,</div><div class="line"><a name="l00030"></a><span class="lineno"><a class="line" href="classschema.html#ae674b0dfe6af47873d7af4539945349aa1d13fb1f60ed574cb8326e0f10c36e8d">   30</a></span>&#160;    <span class="keywordtype">string</span> = 4,</div><div class="line"><a name="l00031"></a><span class="lineno"><a class="line" href="classschema.html#ae674b0dfe6af47873d7af4539945349aa6b7cc7d0aba9682c549a0243ff5dff9d">   31</a></span>&#160;    <a class="code" href="classschema.html#ae674b0dfe6af47873d7af4539945349aa6b7cc7d0aba9682c549a0243ff5dff9d">int32</a> = 5,</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;  };</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;</div><div class="line"><a name="l00044"></a><span class="lineno"><a class="line" href="structschema_1_1field__info.html">   44</a></span>&#160;  <span class="keyword">struct </span><a class="code" href="structschema_1_1field__info.html">field_info</a> {</div><div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="structschema_1_1field__info.html#a7872340667b178863201002fecd646e8">   45</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structschema_1_1field__info.html#a7872340667b178863201002fecd646e8">tag</a>;</div><div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="structschema_1_1field__info.html#aaa55e20bf8d7ac52bccf21c8194abc0a">   46</a></span>&#160;    <a class="code" href="classschema.html#ae674b0dfe6af47873d7af4539945349a">field_type</a> <a class="code" href="structschema_1_1field__info.html#aaa55e20bf8d7ac52bccf21c8194abc0a">type</a>;</div><div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="structschema_1_1field__info.html#a9cbff17410c8b60d4162e5ef0cf8dc4a">   47</a></span>&#160;    std::string <a class="code" href="structschema_1_1field__info.html#a9cbff17410c8b60d4162e5ef0cf8dc4a">name</a>;</div><div class="line"><a name="l00048"></a><span class="lineno"><a class="line" href="structschema_1_1field__info.html#ad7934e3056a4750b17b1e85fd9f462b8">   48</a></span>&#160;    std::string <a class="code" href="structschema_1_1field__info.html#ad7934e3056a4750b17b1e85fd9f462b8">fully_qualified_type</a>;</div><div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="structschema_1_1field__info.html#ad852166af7a4fe1321b541062c126fd1">   49</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="structschema_1_1field__info.html#ad852166af7a4fe1321b541062c126fd1">is_repeated</a>;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <a class="code" href="structschema_1_1field__info.html#aefab026a08dc3dc010d0b6ac65644a65">field_info</a>(<span class="keywordtype">int</span> <a class="code" href="structschema_1_1field__info.html#a7872340667b178863201002fecd646e8">tag</a>, <a class="code" href="classschema.html#ae674b0dfe6af47873d7af4539945349a">field_type</a> <a class="code" href="structschema_1_1field__info.html#aaa55e20bf8d7ac52bccf21c8194abc0a">type</a>, <span class="keyword">const</span> std::string&amp; <a class="code" href="structschema_1_1field__info.html#a9cbff17410c8b60d4162e5ef0cf8dc4a">name</a>,</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;        <span class="keyword">const</span> std::string&amp; <a class="code" href="structschema_1_1field__info.html#ad7934e3056a4750b17b1e85fd9f462b8">fully_qualified_type</a>, <span class="keywordtype">bool</span> <a class="code" href="structschema_1_1field__info.html#ad852166af7a4fe1321b541062c126fd1">is_repeated</a>);</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;  };</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div><div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="classschema.html#a7918452b02f7ec49871b120ed51ab874">   54</a></span>&#160;  <span class="keyword">typedef</span> <a class="code" href="classschema.html">schema</a>* (*factory_function_schema)();</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;  <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classschema.html#a6bbabd44950c5a40beadbbbc3f2619e2">register_factory</a>(std::string name, <a class="code" href="classschema.html#a7918452b02f7ec49871b120ed51ab874">factory_function_schema</a> func);</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  <span class="keyword">static</span> <a class="code" href="classschema.html">schema</a>* <a class="code" href="classschema.html#ad682d8793a11381693f9593dd51a04dd">create</a>(<span class="keyword">const</span> std::string name);</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div><div class="line"><a name="l00058"></a><span class="lineno"><a class="line" href="classschema_1_1schema__definition.html">   58</a></span>&#160;  <span class="keyword">class </span><a class="code" href="classschema_1_1schema__definition.html">schema_definition</a> {</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;   <span class="keyword">public</span>:</div><div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="classschema_1_1schema__definition.html#ac941df98260822e10e12e8e70938188a">   60</a></span>&#160;     <span class="keyword">typedef</span> <a class="code" href="classschema_1_1schema__definition.html">schema_definition</a>* (*factory_function_schema_def)();</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;     <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classschema_1_1schema__definition.html#a9533cd3cc6d66286d33e76efee2a2584">register_factory</a>(std::string name, <a class="code" href="classschema_1_1schema__definition.html#ac941df98260822e10e12e8e70938188a">factory_function_schema_def</a></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        func);</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;     <span class="keyword">static</span> <a class="code" href="classschema_1_1schema__definition.html">schema_definition</a>* <a class="code" href="classschema_1_1schema__definition.html#a4b4d8b40c05eee1c770fc6111e28a061">create</a>(<span class="keyword">const</span> std::string name);</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classschema_1_1schema__definition.html#aace44740c4f4c2e3f2ea33bf532814f6">add_dependency</a>(<span class="keyword">const</span> std::string&amp; schema_name) = 0;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">int</span> <a class="code" href="classschema_1_1schema__definition.html#ab1c4e3a1e35658f1e5160847b86105a6">create_message</a>(<span class="keyword">const</span> std::string&amp; message_name) = 0;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">int</span> <a class="code" href="classschema_1_1schema__definition.html#abdf517e847f7504811c46e381f602d81">create_enum</a>(<span class="keyword">const</span> std::string&amp; enum_name) = 0;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classschema_1_1schema__definition.html#a126cd5e37446323c26f8d9fa8a9c9553">add_enum_value</a>(<span class="keywordtype">int</span> enum_id, <span class="keyword">const</span> std::string&amp; value_name,</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        <span class="keywordtype">int</span> value) = 0;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classschema_1_1schema__definition.html#a7878a1e8ca558bf40f434e1756e7772f">add_nested_message</a>(<span class="keywordtype">int</span> message_id, <span class="keywordtype">int</span> sub_message_id) = 0;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classschema_1_1schema__definition.html#a5d1827bb514bf26c812ff424cf663a94">add_message</a>(<span class="keywordtype">int</span> message_id) = 0;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classschema_1_1schema__definition.html#a84b74528eaa4aa8551b906f8fade6184">add_enum</a>(<span class="keywordtype">int</span> enum_id, <span class="keywordtype">int</span> message_id) = 0;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classschema_1_1schema__definition.html#ad88b383ac2c2574b520397338345278b">add_scalar_field</a>(<a class="code" href="structschema_1_1field__info.html">schema::field_info</a> field, <span class="keywordtype">int</span> message_id) = 0;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classschema_1_1schema__definition.html#a198cc97b7d3245fba05822fb02f8be1d">add_enum_field</a>(<a class="code" href="structschema_1_1field__info.html">schema::field_info</a> field, <span class="keywordtype">int</span> message_id) = 0;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classschema_1_1schema__definition.html#acd2f2deea1518924f696e84292d0a3b0">add_message_field</a>(<a class="code" href="structschema_1_1field__info.html">schema::field_info</a> field,</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        <span class="keywordtype">int</span> message_id) = 0;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;   <span class="keyword">private</span>:</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <span class="keyword">static</span> std::map&lt;std::string, factory_function_schema_def&gt;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        schema_definition_factory;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  };</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  <span class="comment">/*</span></div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="comment">    This is needed for testing or if virtual std::string serialize_protocol()</span></div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="comment">    exists.</span></div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classschema.html#a3ca9095b03f895c818d69dd62ec8493e">import_schema_from_string</a>(<span class="keyword">const</span> std::string&amp; protocol,</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;      <span class="keyword">const</span> std::string&amp; name, <span class="keyword">const</span> std::string&amp; package) = 0;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  <span class="comment">/*</span></div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="comment">    This function is used for include schema definitions that were created with</span></div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="comment">    schema_definition. If the given schema_definition has dependencies, they</span></div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<span class="comment">    must be imported first or exception will be thrown. Name will be used for</span></div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="comment">    reference in schema_definition::add_dependency(). Package is used in</span></div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;<span class="comment">    fully_qualified_type.</span></div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classschema.html#a57f080160b49575534801baa495346b4">import_schema_definition</a>(<a class="code" href="classschema_1_1schema__definition.html">schema_definition</a>* <a class="code" href="classschema.html">schema</a>,</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;      <span class="keyword">const</span> std::string&amp; name, <span class="keyword">const</span> std::string&amp; package) = 0;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  <span class="comment">/*</span></div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="comment">    Prints information about an enum and its values. If the given enum id is not</span></div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="comment">    valid, exception will be thrown.</span></div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classschema.html#af1f4091715e1ab8e77006f240eafbf8a">dump_enum</a>(<span class="keywordtype">int</span> enum_id, std::ostream&amp; ostream_) = 0;</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  <span class="comment">/*</span></div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="comment">    Returns the number of enums in the whole schema definition (both top-level</span></div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="comment">    and nested).</span></div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">int</span> <a class="code" href="classschema.html#a50de8ab47b8b639801a1c7085929e2ec">get_enums_number</a>() = 0;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  <span class="comment">/*</span></div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="comment">    Get the id of the enum with enum_name. Id is needed for getting information</span></div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="comment">    about the enum values. If enum with the given name doesn&#39;t exist, exception</span></div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="comment">    will be thrown.</span></div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">int</span> <a class="code" href="classschema.html#a72e7bc58fb42417e6bef66327dfb91f2">get_enum_id</a>(<span class="keyword">const</span> std::string&amp; enum_name) = 0;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  <span class="comment">/*</span></div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="comment">    Returns enum value matching value name. If no such enum or name exists,</span></div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;<span class="comment">    exception will be thrown.</span></div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">int</span> <a class="code" href="classschema.html#ab7fe019240541b077e4b58aab7873f87">get_enum_value</a>(<span class="keywordtype">int</span> enum_id, <span class="keyword">const</span> std::string&amp; value_name) = 0;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  <span class="comment">/*</span></div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;<span class="comment">    Returns a vector of pairs containing info about the values in this enum.</span></div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="comment">    A pair represents the string name of the value and the int value. If no such</span></div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="comment">    enum exists, exception will be thrown.</span></div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  <span class="keyword">virtual</span> std::vector&lt;std::pair&lt;std::string, int&gt; &gt;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;      <a class="code" href="classschema.html#a677fb648ec4926be120c9b771411bb48">get_enum_values</a>(<span class="keywordtype">int</span> enum_id) = 0;</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  <span class="comment">/*</span></div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="comment">    Prints information about a message schema and its fields. If the given</span></div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="comment">    schema id is not valid, exception will be thrown.</span></div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classschema.html#aa387731efe3a69afda9cde5989d8d746">dump_message_schema</a>(<span class="keywordtype">int</span> schema_id, std::ostream&amp; ostream_) = 0;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;  <span class="comment">/*</span></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="comment">    Returns the number of messages in the whole schema definition (both</span></div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="comment">    top-level and nested).</span></div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">int</span> <a class="code" href="classschema.html#ac6735c104ef0133bf57aec42f8fbbaf4">get_schemas_number</a>() = 0;</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;  <span class="comment">/*</span></div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="comment">    Returns the number of fields in the schema with the given id. If no such</span></div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="comment">    schema exists, exception will be thrown.</span></div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">int</span> <a class="code" href="classschema.html#a8bf31737bfc4670b555f221ffb254f60">get_fields_number</a>(<span class="keywordtype">int</span> schema_id) = 0;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  <span class="comment">/*</span></div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="comment">    Returns info about the specified field. Index must be &gt;= 0 and &lt;</span></div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="comment">    get_fields_number(schema_id). If no such schema or such field exists,</span></div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;<span class="comment">    exception will be thrown.</span></div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  <span class="keyword">virtual</span> <a class="code" href="structschema_1_1field__info.html">field_info</a> <a class="code" href="classschema.html#a878c75dd3b1b4fcd6d94e6713826a4c8">get_field_info</a>(<span class="keywordtype">int</span> schema_id, <span class="keywordtype">int</span> index) = 0;</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;  <span class="comment">/*</span></div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;<span class="comment">    Creates new message from a schema with schema_id. Returns id of the</span></div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="comment">    created message that is used for setting and getting data,</span></div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;<span class="comment">    serializing and deserializing, etc. If the given schema id is not valid,</span></div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;<span class="comment">    exception will be thrown.</span></div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">int</span> <a class="code" href="classschema.html#ad2f764580285cbbd0a426d0e78bf5974">new_message</a>(<span class="keywordtype">int</span> schema_id) = 0;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;  <span class="comment">/*</span></div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;<span class="comment">    Creates a copy of the message with the given id. If the given id is not</span></div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;<span class="comment">    valid, exception will be thrown. Returns the id of the created copy.</span></div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">int</span> <a class="code" href="classschema.html#a9ed939920603b50b1e02299f659182e2">create_copy_message</a>(<span class="keywordtype">int</span> message_id) = 0;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  <span class="comment">/*</span></div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;<span class="comment">    Returns the id of the schema with schema_name. Id is needed for creating new</span></div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;<span class="comment">    messages of that type, also getting information about the fields. If schema</span></div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="comment">    with the given name doesn&#39;t exist, exception will be thrown.</span></div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">int</span> <a class="code" href="classschema.html#a4db6642b95c1919339c99dc3d4674fe2">get_schema_id</a>(<span class="keyword">const</span> std::string&amp; schema_name) = 0;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  <span class="comment">/*</span></div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="comment">    Returns the name of the schema of message with the given id. If schema with</span></div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;<span class="comment">    the given name doesn&#39;t exist, exception will be thrown.</span></div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;  <span class="keyword">virtual</span> std::string <a class="code" href="classschema.html#acf3ac48276f31b6eaa0076ac312eb3ec">get_schema_name</a>(<span class="keywordtype">int</span> schema_id) = 0;</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;  <span class="comment">/*</span></div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;<span class="comment">    TODO(asen/kari): Decide to keep or remove this function. Removed for now.</span></div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;<span class="comment">    get_schema_name(get_message_schema_id(message_id)) will return the same</span></div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="comment">    information.</span></div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;<span class="comment">    Returns the schema name of the message with the given id. If such message</span></div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;<span class="comment">    doesn&#39;t exist, exception will be thrown.</span></div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;<span class="comment">  virtual std::string get_message_type(int message_id) = 0;</span></div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  <span class="comment">/*</span></div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<span class="comment">    Returns the schema id of the message with the given id. If such message</span></div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<span class="comment">    doesn&#39;t exist, exception will be thrown.</span></div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">int</span> <a class="code" href="classschema.html#ad596ef7ce5d142e9f8312d27ab1c60f8">get_message_schema_id</a>(<span class="keywordtype">int</span> message_id) = 0;</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;  <span class="comment">/*</span></div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="comment">    Returns the type (as a string) of the field with the given tag in the</span></div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<span class="comment">    schema with the given id. If the given schema id is not valid or there is no</span></div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="comment">    field with the given tag, exception will be thrown.</span></div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="comment">    If the type is message, returns &#39;message&#39;. To get the type of a message</span></div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="comment">    field use get_message_field_type().</span></div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="comment">    If the type is enum, returns &#39;enum&#39;. To get the type of a enum field use</span></div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="comment">    get_enum_field_type().</span></div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;<span class="comment">    Use the result of this function in set_*() and get_*() and in</span></div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="comment">    set_repeated_*() and get_repeated_*() if the field is repeated.</span></div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  <span class="keyword">virtual</span> std::string <a class="code" href="classschema.html#a0d009061198378139cb4daa61f630667">get_field_type</a>(<span class="keywordtype">int</span> schema_id, <span class="keywordtype">int</span> tag) = 0;</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;  <span class="comment">/*</span></div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;<span class="comment">    If the type of the field is message, returns the fully-qualified name of</span></div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="comment">    the message type. If the given schema id is not valid or if there is no</span></div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;<span class="comment">    field with the given tag or the field type is not message,</span></div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;<span class="comment">    exception will be thrown.</span></div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;  <span class="keyword">virtual</span> std::string <a class="code" href="classschema.html#acfa5373ec62d791e9557f91f4022a403">get_message_field_type</a>(<span class="keywordtype">int</span> schema_id, <span class="keywordtype">int</span> tag) = 0;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  <span class="comment">/*</span></div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="comment">    If the type of the field is enum, returns the fully-qualified name of</span></div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<span class="comment">    the enum type. If the given schema id is not valid or if there is no field</span></div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;<span class="comment">    with the given tag or the field type is not enum, exception will be thrown.</span></div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  <span class="keyword">virtual</span> std::string <a class="code" href="classschema.html#a56a1aee6725c90437559e8b9c9735d9d">get_enum_field_type</a>(<span class="keywordtype">int</span> schema_id, <span class="keywordtype">int</span> tag) = 0;</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  <span class="comment">/*</span></div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;<span class="comment">    Returns the tag of the field with the given name in the schema with the</span></div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;<span class="comment">    given id. If the given schema id is not valid or there is no field with the</span></div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;<span class="comment">    given name, exception will be thrown.</span></div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">int</span> <a class="code" href="classschema.html#a6b567ab96f02e98a8003b38cb99e406e">get_field_tag</a>(<span class="keywordtype">int</span> schema_id, <span class="keyword">const</span> std::string&amp; name) = 0;</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  <span class="comment">/*</span></div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;<span class="comment">    Returns true if the field is repeated, false, otherwise. If the given schema</span></div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;<span class="comment">    id is not valid or if there is no field with the given tag, exception will</span></div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;<span class="comment">    be thrown.</span></div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classschema.html#a54415fc75929109e9628607815ccd643">is_repeated</a>(<span class="keywordtype">int</span> schema_id, <span class="keywordtype">int</span> tag) = 0;</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;  <span class="comment">/*</span></div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;<span class="comment">    Returns the size of the repeated field in the given message. If no such</span></div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;<span class="comment">    message or field exists or if the field is not repeated, exception will be</span></div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;<span class="comment">    thrown.</span></div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">int</span> <a class="code" href="classschema.html#a83850c17c3b47704b0e3d540a38ea298">get_repeated_field_size</a>(<span class="keywordtype">int</span> message_id, <span class="keywordtype">int</span> field_tag) = 0;</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  <span class="comment">/*</span></div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;<span class="comment">    Serializes the given message into the given string. If no such message</span></div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;<span class="comment">    exists or some error while serializing happens, exception will be thrown.</span></div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classschema.html#a368887c673dcdf61d0cae4fd04a84c31">serialize_message</a>(<span class="keywordtype">int</span> message_id,  std::string* output) = 0;</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;  <span class="comment">/*</span></div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;<span class="comment">    Deserializes message from the given string into a message with the given</span></div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;<span class="comment">    message id. If no such message exists or some error while deserializing</span></div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;<span class="comment">    happens, exception will be thrown. To use this function you should first</span></div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;<span class="comment">    create new message from the same schema and pass the id to this function.</span></div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classschema.html#a5c6d7115d306c772ebc50c1fc0b5330e">deserialize_message</a>(<span class="keywordtype">int</span> message_id, <span class="keyword">const</span> std::string&amp;</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;      input) = 0;</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;  <span class="comment">/*</span></div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;<span class="comment">    Returns human readable representation of the message with the given id. If</span></div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;<span class="comment">    message id is not valid, exception will be thrown.</span></div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;  <span class="keyword">virtual</span> std::string <a class="code" href="classschema.html#ae867355fc2780c6e09d896b6b56c6b25">to_string</a>(<span class="keywordtype">int</span> message_id) = 0;</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;  <span class="comment">/*</span></div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="comment">    Deletes the message with the given id. If message id is not valid, exception</span></div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;<span class="comment">    will be thrown.</span></div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classschema.html#a98e44cc1c2eeab12625a089333b2eb73">delete_message</a>(<span class="keywordtype">int</span> message_id) = 0;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;  <span class="comment">/*</span></div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;<span class="comment">    Setters and getters for the scalar types. If any tag or id is invalid, or if</span></div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;<span class="comment">    you try to use these functions on non-matching type fields, or if you try to</span></div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;<span class="comment">    use get/set_repeated_*() on non-repeated field or vise versa, exception will</span></div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;<span class="comment">    be thrown. If you use out of range index on set_repeated_*() the value will</span></div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;<span class="comment">    just be added at the end (not on the specified index). If you use out of</span></div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;<span class="comment">    range index on set_repeated_*(), exception will be thrown.</span></div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classschema.html#a31a7d75821c7e909d4198c7f201c5ec8">set_string</a>(<span class="keywordtype">int</span> message_id, <span class="keywordtype">int</span> field_tag,</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;      <span class="keyword">const</span> std::string&amp; value) = 0;</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;  <span class="keyword">virtual</span> std::string <a class="code" href="classschema.html#af153cc2903f2cc0c6dbf314835247534">get_string</a>(<span class="keywordtype">int</span> message_id, <span class="keywordtype">int</span> field_tag) = 0;</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classschema.html#ab4b08ae187ed02c22145275a4f6b1e48">set_repeated_string</a>(<span class="keywordtype">int</span> message_id, <span class="keywordtype">int</span> field_tag,</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;      <span class="keyword">const</span> std::string&amp; value, <span class="keywordtype">int</span> index) = 0;</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;  <span class="keyword">virtual</span> std::string <a class="code" href="classschema.html#ae430653f739a852a2b52d25e5145b486">get_repeated_string</a>(<span class="keywordtype">int</span> message_id, <span class="keywordtype">int</span> field_tag,</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;      <span class="keywordtype">int</span> index) = 0;</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classschema.html#aa7c08c757b414a35d0647fbf418a9c7f">set_int32</a>(<span class="keywordtype">int</span> message_id, <span class="keywordtype">int</span> field_tag, int32_t value) = 0;</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;  <span class="keyword">virtual</span> int32_t <a class="code" href="classschema.html#af0f57043f4a601b486e8b5d9c2b82427">get_int32</a>(<span class="keywordtype">int</span> message_id, <span class="keywordtype">int</span> field_tag) = 0;</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classschema.html#a7ab09e47835a0c933b51ad1315f17f96">set_repeated_int32</a>(<span class="keywordtype">int</span> message_id, <span class="keywordtype">int</span> field_tag, int32_t value,</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;      <span class="keywordtype">int</span> index) = 0;</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;  <span class="keyword">virtual</span> int32_t <a class="code" href="classschema.html#a4d08784fc609f5bd09097cb74be6e9a0">get_repeated_int32</a>(<span class="keywordtype">int</span> message_id, <span class="keywordtype">int</span> field_tag,</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;      <span class="keywordtype">int</span> index) = 0;</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;  <span class="comment">/*</span></div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;<span class="comment">    Setters and getters for message type fields. When you use setters, you</span></div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;<span class="comment">    should already have the sub_message created and initialized. This function</span></div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;<span class="comment">    makes a copy of it so if you change the sub_message, the original message</span></div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;<span class="comment">    that keeps the copy will not be affected. If any tag or id is invalid, or if</span></div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;<span class="comment">    you try to use these functions on non-message fields, or if you try to use</span></div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;<span class="comment">    get/set_repeated_message() on non-repeated field or vise versa, or if you</span></div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;<span class="comment">    give sub_message that is from different type than expected, exception will</span></div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;<span class="comment">    be thrown. If you use out of range index on set_repeated_message() the value</span></div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;<span class="comment">    will just be added at the end (not on the specified index). If you use out</span></div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;<span class="comment">    of range index on get_repeated_message(), exception will be thrown.</span></div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classschema.html#a68c86974429c6e35c53d5ca1dc8a8c4c">set_message</a>(<span class="keywordtype">int</span> message_id, <span class="keywordtype">int</span> field_tag,</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;      <span class="keywordtype">int</span> sub_message_id) = 0;</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">int</span> <a class="code" href="classschema.html#af5ebc6493549cfd50dfb5d24bdc70f2f">get_message</a>(<span class="keywordtype">int</span> message_id, <span class="keywordtype">int</span> field_tag) = 0;</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classschema.html#a6604f0d357e5755d5e94cc2e2fb176cb">set_repeated_message</a>(<span class="keywordtype">int</span> message_id, <span class="keywordtype">int</span> field_tag, <span class="keywordtype">int</span></div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;      sub_message_id, <span class="keywordtype">int</span> index) = 0;</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">int</span> <a class="code" href="classschema.html#ab1ff6f841da8afee0902a5cbc0971f48">get_repeated_message</a>(<span class="keywordtype">int</span> message_id, <span class="keywordtype">int</span> field_tag,</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;      <span class="keywordtype">int</span> index) = 0;</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;  <span class="comment">/*</span></div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;<span class="comment">    Setters and getters for enum type fields. If any tag or id is invalid, or if</span></div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;<span class="comment">    you try to use these functions on non-enum fields, exception will be thrown.</span></div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;<span class="comment">    If you use out of range index on set_repeated_enum() the value will just be</span></div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;<span class="comment">    added at the end (not on the specified index). If you use out of range index</span></div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;<span class="comment">    on get_repeated_enum(), exception will be thrown.</span></div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classschema.html#a4955bde9f2ff37e5d01ff7e6157955f2">set_enum</a>(<span class="keywordtype">int</span> message_id, <span class="keywordtype">int</span> field_tag, <span class="keywordtype">int</span> value) = 0;</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">int</span> <a class="code" href="classschema.html#a1f5e280725cc3eab7561372e70608981">get_enum</a>(<span class="keywordtype">int</span> message_id, <span class="keywordtype">int</span> field_tag) = 0;</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classschema.html#a5e966e575e17ea8cf77f98569374efe2">set_repeated_enum</a>(<span class="keywordtype">int</span> message_id, <span class="keywordtype">int</span> field_tag, <span class="keywordtype">int</span> value, <span class="keywordtype">int</span></div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;      index) = 0;</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">int</span> <a class="code" href="classschema.html#aa340c3b233d6c0c8cf637421b69d49f7">get_repeated_enum</a>(<span class="keywordtype">int</span> message_id, <span class="keywordtype">int</span> field_tag, <span class="keywordtype">int</span> index) = 0;</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160; <span class="keyword">private</span>:</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;  <span class="keyword">static</span> std::map&lt;std::string, factory_function_schema&gt; schema_factory;</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;};</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;<span class="preprocessor">#endif  // SCHEMA_H_</span></div><div class="ttc" id="structschema_1_1field__info_html"><div class="ttname"><a href="structschema_1_1field__info.html">schema::field_info</a></div><div class="ttdef"><b>Definition:</b> schema.h:44</div></div>
<div class="ttc" id="classschema_1_1schema__definition_html_ab1c4e3a1e35658f1e5160847b86105a6"><div class="ttname"><a href="classschema_1_1schema__definition.html#ab1c4e3a1e35658f1e5160847b86105a6">schema::schema_definition::create_message</a></div><div class="ttdeci">virtual int create_message(const std::string &amp;message_name)=0</div></div>
<div class="ttc" id="classschema_1_1schema__definition_html"><div class="ttname"><a href="classschema_1_1schema__definition.html">schema::schema_definition</a></div><div class="ttdef"><b>Definition:</b> schema.h:58</div></div>
<div class="ttc" id="structschema_1_1field__info_html_a9cbff17410c8b60d4162e5ef0cf8dc4a"><div class="ttname"><a href="structschema_1_1field__info.html#a9cbff17410c8b60d4162e5ef0cf8dc4a">schema::field_info::name</a></div><div class="ttdeci">std::string name</div><div class="ttdef"><b>Definition:</b> schema.h:47</div></div>
<div class="ttc" id="classschema_html_a4db6642b95c1919339c99dc3d4674fe2"><div class="ttname"><a href="classschema.html#a4db6642b95c1919339c99dc3d4674fe2">schema::get_schema_id</a></div><div class="ttdeci">virtual int get_schema_id(const std::string &amp;schema_name)=0</div></div>
<div class="ttc" id="classschema_html_ae674b0dfe6af47873d7af4539945349aaaf3be69297c8f35da0c78b6086d26a18"><div class="ttname"><a href="classschema.html#ae674b0dfe6af47873d7af4539945349aaaf3be69297c8f35da0c78b6086d26a18">schema::message_type</a></div><div class="ttdef"><b>Definition:</b> schema.h:28</div></div>
<div class="ttc" id="classschema_html_ab1ff6f841da8afee0902a5cbc0971f48"><div class="ttname"><a href="classschema.html#ab1ff6f841da8afee0902a5cbc0971f48">schema::get_repeated_message</a></div><div class="ttdeci">virtual int get_repeated_message(int message_id, int field_tag, int index)=0</div></div>
<div class="ttc" id="classschema_html_aa387731efe3a69afda9cde5989d8d746"><div class="ttname"><a href="classschema.html#aa387731efe3a69afda9cde5989d8d746">schema::dump_message_schema</a></div><div class="ttdeci">virtual void dump_message_schema(int schema_id, std::ostream &amp;ostream_)=0</div></div>
<div class="ttc" id="classschema_html_a7ab09e47835a0c933b51ad1315f17f96"><div class="ttname"><a href="classschema.html#a7ab09e47835a0c933b51ad1315f17f96">schema::set_repeated_int32</a></div><div class="ttdeci">virtual void set_repeated_int32(int message_id, int field_tag, int32_t value, int index)=0</div></div>
<div class="ttc" id="classschema_html_ac6735c104ef0133bf57aec42f8fbbaf4"><div class="ttname"><a href="classschema.html#ac6735c104ef0133bf57aec42f8fbbaf4">schema::get_schemas_number</a></div><div class="ttdeci">virtual int get_schemas_number()=0</div></div>
<div class="ttc" id="classschema_1_1schema__definition_html_acd2f2deea1518924f696e84292d0a3b0"><div class="ttname"><a href="classschema_1_1schema__definition.html#acd2f2deea1518924f696e84292d0a3b0">schema::schema_definition::add_message_field</a></div><div class="ttdeci">virtual void add_message_field(schema::field_info field, int message_id)=0</div></div>
<div class="ttc" id="classschema_1_1schema__definition_html_aace44740c4f4c2e3f2ea33bf532814f6"><div class="ttname"><a href="classschema_1_1schema__definition.html#aace44740c4f4c2e3f2ea33bf532814f6">schema::schema_definition::add_dependency</a></div><div class="ttdeci">virtual void add_dependency(const std::string &amp;schema_name)=0</div></div>
<div class="ttc" id="classschema_html_ad596ef7ce5d142e9f8312d27ab1c60f8"><div class="ttname"><a href="classschema.html#ad596ef7ce5d142e9f8312d27ab1c60f8">schema::get_message_schema_id</a></div><div class="ttdeci">virtual int get_message_schema_id(int message_id)=0</div></div>
<div class="ttc" id="classschema_html_a9ed939920603b50b1e02299f659182e2"><div class="ttname"><a href="classschema.html#a9ed939920603b50b1e02299f659182e2">schema::create_copy_message</a></div><div class="ttdeci">virtual int create_copy_message(int message_id)=0</div></div>
<div class="ttc" id="classschema_html_a56a1aee6725c90437559e8b9c9735d9d"><div class="ttname"><a href="classschema.html#a56a1aee6725c90437559e8b9c9735d9d">schema::get_enum_field_type</a></div><div class="ttdeci">virtual std::string get_enum_field_type(int schema_id, int tag)=0</div></div>
<div class="ttc" id="classschema_1_1schema__definition_html_a9533cd3cc6d66286d33e76efee2a2584"><div class="ttname"><a href="classschema_1_1schema__definition.html#a9533cd3cc6d66286d33e76efee2a2584">schema::schema_definition::register_factory</a></div><div class="ttdeci">static void register_factory(std::string name, factory_function_schema_def func)</div><div class="ttdef"><b>Definition:</b> schema.cc:31</div></div>
<div class="ttc" id="classschema_html_a0d009061198378139cb4daa61f630667"><div class="ttname"><a href="classschema.html#a0d009061198378139cb4daa61f630667">schema::get_field_type</a></div><div class="ttdeci">virtual std::string get_field_type(int schema_id, int tag)=0</div></div>
<div class="ttc" id="classschema_html_ae674b0dfe6af47873d7af4539945349a"><div class="ttname"><a href="classschema.html#ae674b0dfe6af47873d7af4539945349a">schema::field_type</a></div><div class="ttdeci">field_type</div><div class="ttdef"><b>Definition:</b> schema.h:26</div></div>
<div class="ttc" id="structschema_1_1field__info_html_a7872340667b178863201002fecd646e8"><div class="ttname"><a href="structschema_1_1field__info.html#a7872340667b178863201002fecd646e8">schema::field_info::tag</a></div><div class="ttdeci">int tag</div><div class="ttdef"><b>Definition:</b> schema.h:45</div></div>
<div class="ttc" id="classschema_html_a7918452b02f7ec49871b120ed51ab874"><div class="ttname"><a href="classschema.html#a7918452b02f7ec49871b120ed51ab874">schema::factory_function_schema</a></div><div class="ttdeci">schema *(* factory_function_schema)()</div><div class="ttdef"><b>Definition:</b> schema.h:54</div></div>
<div class="ttc" id="structschema_1_1field__info_html_ad852166af7a4fe1321b541062c126fd1"><div class="ttname"><a href="structschema_1_1field__info.html#ad852166af7a4fe1321b541062c126fd1">schema::field_info::is_repeated</a></div><div class="ttdeci">bool is_repeated</div><div class="ttdef"><b>Definition:</b> schema.h:49</div></div>
<div class="ttc" id="classschema_1_1schema__definition_html_a126cd5e37446323c26f8d9fa8a9c9553"><div class="ttname"><a href="classschema_1_1schema__definition.html#a126cd5e37446323c26f8d9fa8a9c9553">schema::schema_definition::add_enum_value</a></div><div class="ttdeci">virtual void add_enum_value(int enum_id, const std::string &amp;value_name, int value)=0</div></div>
<div class="ttc" id="classschema_html_a1f5e280725cc3eab7561372e70608981"><div class="ttname"><a href="classschema.html#a1f5e280725cc3eab7561372e70608981">schema::get_enum</a></div><div class="ttdeci">virtual int get_enum(int message_id, int field_tag)=0</div></div>
<div class="ttc" id="classschema_html_a5e966e575e17ea8cf77f98569374efe2"><div class="ttname"><a href="classschema.html#a5e966e575e17ea8cf77f98569374efe2">schema::set_repeated_enum</a></div><div class="ttdeci">virtual void set_repeated_enum(int message_id, int field_tag, int value, int index)=0</div></div>
<div class="ttc" id="classschema_html_a68c86974429c6e35c53d5ca1dc8a8c4c"><div class="ttname"><a href="classschema.html#a68c86974429c6e35c53d5ca1dc8a8c4c">schema::set_message</a></div><div class="ttdeci">virtual void set_message(int message_id, int field_tag, int sub_message_id)=0</div></div>
<div class="ttc" id="classschema_html_ae430653f739a852a2b52d25e5145b486"><div class="ttname"><a href="classschema.html#ae430653f739a852a2b52d25e5145b486">schema::get_repeated_string</a></div><div class="ttdeci">virtual std::string get_repeated_string(int message_id, int field_tag, int index)=0</div></div>
<div class="ttc" id="classschema_html_a57f080160b49575534801baa495346b4"><div class="ttname"><a href="classschema.html#a57f080160b49575534801baa495346b4">schema::import_schema_definition</a></div><div class="ttdeci">virtual void import_schema_definition(schema_definition *schema, const std::string &amp;name, const std::string &amp;package)=0</div></div>
<div class="ttc" id="classschema_html_aa340c3b233d6c0c8cf637421b69d49f7"><div class="ttname"><a href="classschema.html#aa340c3b233d6c0c8cf637421b69d49f7">schema::get_repeated_enum</a></div><div class="ttdeci">virtual int get_repeated_enum(int message_id, int field_tag, int index)=0</div></div>
<div class="ttc" id="structschema_1_1field__info_html_aaa55e20bf8d7ac52bccf21c8194abc0a"><div class="ttname"><a href="structschema_1_1field__info.html#aaa55e20bf8d7ac52bccf21c8194abc0a">schema::field_info::type</a></div><div class="ttdeci">field_type type</div><div class="ttdef"><b>Definition:</b> schema.h:46</div></div>
<div class="ttc" id="classschema_html_a8bf31737bfc4670b555f221ffb254f60"><div class="ttname"><a href="classschema.html#a8bf31737bfc4670b555f221ffb254f60">schema::get_fields_number</a></div><div class="ttdeci">virtual int get_fields_number(int schema_id)=0</div></div>
<div class="ttc" id="classschema_html_ae867355fc2780c6e09d896b6b56c6b25"><div class="ttname"><a href="classschema.html#ae867355fc2780c6e09d896b6b56c6b25">schema::to_string</a></div><div class="ttdeci">virtual std::string to_string(int message_id)=0</div></div>
<div class="ttc" id="classschema_html_a4955bde9f2ff37e5d01ff7e6157955f2"><div class="ttname"><a href="classschema.html#a4955bde9f2ff37e5d01ff7e6157955f2">schema::set_enum</a></div><div class="ttdeci">virtual void set_enum(int message_id, int field_tag, int value)=0</div></div>
<div class="ttc" id="classschema_html_aa7c08c757b414a35d0647fbf418a9c7f"><div class="ttname"><a href="classschema.html#aa7c08c757b414a35d0647fbf418a9c7f">schema::set_int32</a></div><div class="ttdeci">virtual void set_int32(int message_id, int field_tag, int32_t value)=0</div></div>
<div class="ttc" id="classschema_html_acf3ac48276f31b6eaa0076ac312eb3ec"><div class="ttname"><a href="classschema.html#acf3ac48276f31b6eaa0076ac312eb3ec">schema::get_schema_name</a></div><div class="ttdeci">virtual std::string get_schema_name(int schema_id)=0</div></div>
<div class="ttc" id="classschema_html_a98e44cc1c2eeab12625a089333b2eb73"><div class="ttname"><a href="classschema.html#a98e44cc1c2eeab12625a089333b2eb73">schema::delete_message</a></div><div class="ttdeci">virtual void delete_message(int message_id)=0</div></div>
<div class="ttc" id="classschema_1_1schema__definition_html_a198cc97b7d3245fba05822fb02f8be1d"><div class="ttname"><a href="classschema_1_1schema__definition.html#a198cc97b7d3245fba05822fb02f8be1d">schema::schema_definition::add_enum_field</a></div><div class="ttdeci">virtual void add_enum_field(schema::field_info field, int message_id)=0</div></div>
<div class="ttc" id="classschema_html_ae674b0dfe6af47873d7af4539945349aa6512adf7f5102bbd85edf38b4230653b"><div class="ttname"><a href="classschema.html#ae674b0dfe6af47873d7af4539945349aa6512adf7f5102bbd85edf38b4230653b">schema::unknown</a></div><div class="ttdef"><b>Definition:</b> schema.h:27</div></div>
<div class="ttc" id="classschema_1_1schema__definition_html_abdf517e847f7504811c46e381f602d81"><div class="ttname"><a href="classschema_1_1schema__definition.html#abdf517e847f7504811c46e381f602d81">schema::schema_definition::create_enum</a></div><div class="ttdeci">virtual int create_enum(const std::string &amp;enum_name)=0</div></div>
<div class="ttc" id="classschema_html_a6b567ab96f02e98a8003b38cb99e406e"><div class="ttname"><a href="classschema.html#a6b567ab96f02e98a8003b38cb99e406e">schema::get_field_tag</a></div><div class="ttdeci">virtual int get_field_tag(int schema_id, const std::string &amp;name)=0</div></div>
<div class="ttc" id="classschema_html_af153cc2903f2cc0c6dbf314835247534"><div class="ttname"><a href="classschema.html#af153cc2903f2cc0c6dbf314835247534">schema::get_string</a></div><div class="ttdeci">virtual std::string get_string(int message_id, int field_tag)=0</div></div>
<div class="ttc" id="classschema_html_a6bbabd44950c5a40beadbbbc3f2619e2"><div class="ttname"><a href="classschema.html#a6bbabd44950c5a40beadbbbc3f2619e2">schema::register_factory</a></div><div class="ttdeci">static void register_factory(std::string name, factory_function_schema func)</div><div class="ttdef"><b>Definition:</b> schema.cc:14</div></div>
<div class="ttc" id="classschema_html_ae674b0dfe6af47873d7af4539945349aa036b0bff8d38d541d918fb7ef3c9706d"><div class="ttname"><a href="classschema.html#ae674b0dfe6af47873d7af4539945349aa036b0bff8d38d541d918fb7ef3c9706d">schema::enum_type</a></div><div class="ttdef"><b>Definition:</b> schema.h:29</div></div>
<div class="ttc" id="classschema_1_1schema__definition_html_a84b74528eaa4aa8551b906f8fade6184"><div class="ttname"><a href="classschema_1_1schema__definition.html#a84b74528eaa4aa8551b906f8fade6184">schema::schema_definition::add_enum</a></div><div class="ttdeci">virtual void add_enum(int enum_id, int message_id)=0</div></div>
<div class="ttc" id="classschema_1_1schema__definition_html_ad88b383ac2c2574b520397338345278b"><div class="ttname"><a href="classschema_1_1schema__definition.html#ad88b383ac2c2574b520397338345278b">schema::schema_definition::add_scalar_field</a></div><div class="ttdeci">virtual void add_scalar_field(schema::field_info field, int message_id)=0</div></div>
<div class="ttc" id="classschema_html_ad682d8793a11381693f9593dd51a04dd"><div class="ttname"><a href="classschema.html#ad682d8793a11381693f9593dd51a04dd">schema::create</a></div><div class="ttdeci">static schema * create(const std::string name)</div><div class="ttdef"><b>Definition:</b> schema.cc:19</div></div>
<div class="ttc" id="classschema_html"><div class="ttname"><a href="classschema.html">schema</a></div><div class="ttdef"><b>Definition:</b> schema.h:21</div></div>
<div class="ttc" id="classschema_html_a50de8ab47b8b639801a1c7085929e2ec"><div class="ttname"><a href="classschema.html#a50de8ab47b8b639801a1c7085929e2ec">schema::get_enums_number</a></div><div class="ttdeci">virtual int get_enums_number()=0</div></div>
<div class="ttc" id="classschema_html_a677fb648ec4926be120c9b771411bb48"><div class="ttname"><a href="classschema.html#a677fb648ec4926be120c9b771411bb48">schema::get_enum_values</a></div><div class="ttdeci">virtual std::vector&lt; std::pair&lt; std::string, int &gt; &gt; get_enum_values(int enum_id)=0</div></div>
<div class="ttc" id="classschema_html_a72e7bc58fb42417e6bef66327dfb91f2"><div class="ttname"><a href="classschema.html#a72e7bc58fb42417e6bef66327dfb91f2">schema::get_enum_id</a></div><div class="ttdeci">virtual int get_enum_id(const std::string &amp;enum_name)=0</div></div>
<div class="ttc" id="classschema_html_a6604f0d357e5755d5e94cc2e2fb176cb"><div class="ttname"><a href="classschema.html#a6604f0d357e5755d5e94cc2e2fb176cb">schema::set_repeated_message</a></div><div class="ttdeci">virtual void set_repeated_message(int message_id, int field_tag, int sub_message_id, int index)=0</div></div>
<div class="ttc" id="classschema_html_a5c6d7115d306c772ebc50c1fc0b5330e"><div class="ttname"><a href="classschema.html#a5c6d7115d306c772ebc50c1fc0b5330e">schema::deserialize_message</a></div><div class="ttdeci">virtual bool deserialize_message(int message_id, const std::string &amp;input)=0</div></div>
<div class="ttc" id="classschema_html_a4d08784fc609f5bd09097cb74be6e9a0"><div class="ttname"><a href="classschema.html#a4d08784fc609f5bd09097cb74be6e9a0">schema::get_repeated_int32</a></div><div class="ttdeci">virtual int32_t get_repeated_int32(int message_id, int field_tag, int index)=0</div></div>
<div class="ttc" id="classschema_html_a368887c673dcdf61d0cae4fd04a84c31"><div class="ttname"><a href="classschema.html#a368887c673dcdf61d0cae4fd04a84c31">schema::serialize_message</a></div><div class="ttdeci">virtual bool serialize_message(int message_id, std::string *output)=0</div></div>
<div class="ttc" id="structschema_1_1field__info_html_aefab026a08dc3dc010d0b6ac65644a65"><div class="ttname"><a href="structschema_1_1field__info.html#aefab026a08dc3dc010d0b6ac65644a65">schema::field_info::field_info</a></div><div class="ttdeci">field_info(int tag, field_type type, const std::string &amp;name, const std::string &amp;fully_qualified_type, bool is_repeated)</div><div class="ttdef"><b>Definition:</b> schema.cc:3</div></div>
<div class="ttc" id="classschema_html_a83850c17c3b47704b0e3d540a38ea298"><div class="ttname"><a href="classschema.html#a83850c17c3b47704b0e3d540a38ea298">schema::get_repeated_field_size</a></div><div class="ttdeci">virtual int get_repeated_field_size(int message_id, int field_tag)=0</div></div>
<div class="ttc" id="structschema_1_1field__info_html_ad7934e3056a4750b17b1e85fd9f462b8"><div class="ttname"><a href="structschema_1_1field__info.html#ad7934e3056a4750b17b1e85fd9f462b8">schema::field_info::fully_qualified_type</a></div><div class="ttdeci">std::string fully_qualified_type</div><div class="ttdef"><b>Definition:</b> schema.h:48</div></div>
<div class="ttc" id="classschema_1_1schema__definition_html_a4b4d8b40c05eee1c770fc6111e28a061"><div class="ttname"><a href="classschema_1_1schema__definition.html#a4b4d8b40c05eee1c770fc6111e28a061">schema::schema_definition::create</a></div><div class="ttdeci">static schema_definition * create(const std::string name)</div><div class="ttdef"><b>Definition:</b> schema.cc:36</div></div>
<div class="ttc" id="classschema_html_a54415fc75929109e9628607815ccd643"><div class="ttname"><a href="classschema.html#a54415fc75929109e9628607815ccd643">schema::is_repeated</a></div><div class="ttdeci">virtual bool is_repeated(int schema_id, int tag)=0</div></div>
<div class="ttc" id="classschema_html_ab7fe019240541b077e4b58aab7873f87"><div class="ttname"><a href="classschema.html#ab7fe019240541b077e4b58aab7873f87">schema::get_enum_value</a></div><div class="ttdeci">virtual int get_enum_value(int enum_id, const std::string &amp;value_name)=0</div></div>
<div class="ttc" id="classschema_html_a3ca9095b03f895c818d69dd62ec8493e"><div class="ttname"><a href="classschema.html#a3ca9095b03f895c818d69dd62ec8493e">schema::import_schema_from_string</a></div><div class="ttdeci">virtual void import_schema_from_string(const std::string &amp;protocol, const std::string &amp;name, const std::string &amp;package)=0</div></div>
<div class="ttc" id="classschema_html_ad2f764580285cbbd0a426d0e78bf5974"><div class="ttname"><a href="classschema.html#ad2f764580285cbbd0a426d0e78bf5974">schema::new_message</a></div><div class="ttdeci">virtual int new_message(int schema_id)=0</div></div>
<div class="ttc" id="classschema_html_a31a7d75821c7e909d4198c7f201c5ec8"><div class="ttname"><a href="classschema.html#a31a7d75821c7e909d4198c7f201c5ec8">schema::set_string</a></div><div class="ttdeci">virtual void set_string(int message_id, int field_tag, const std::string &amp;value)=0</div></div>
<div class="ttc" id="classschema_html_acfa5373ec62d791e9557f91f4022a403"><div class="ttname"><a href="classschema.html#acfa5373ec62d791e9557f91f4022a403">schema::get_message_field_type</a></div><div class="ttdeci">virtual std::string get_message_field_type(int schema_id, int tag)=0</div></div>
<div class="ttc" id="classschema_1_1schema__definition_html_ac941df98260822e10e12e8e70938188a"><div class="ttname"><a href="classschema_1_1schema__definition.html#ac941df98260822e10e12e8e70938188a">schema::schema_definition::factory_function_schema_def</a></div><div class="ttdeci">schema_definition *(* factory_function_schema_def)()</div><div class="ttdef"><b>Definition:</b> schema.h:60</div></div>
<div class="ttc" id="classschema_html_af1f4091715e1ab8e77006f240eafbf8a"><div class="ttname"><a href="classschema.html#af1f4091715e1ab8e77006f240eafbf8a">schema::dump_enum</a></div><div class="ttdeci">virtual void dump_enum(int enum_id, std::ostream &amp;ostream_)=0</div></div>
<div class="ttc" id="classschema_html_af0f57043f4a601b486e8b5d9c2b82427"><div class="ttname"><a href="classschema.html#af0f57043f4a601b486e8b5d9c2b82427">schema::get_int32</a></div><div class="ttdeci">virtual int32_t get_int32(int message_id, int field_tag)=0</div></div>
<div class="ttc" id="classschema_1_1schema__definition_html_a5d1827bb514bf26c812ff424cf663a94"><div class="ttname"><a href="classschema_1_1schema__definition.html#a5d1827bb514bf26c812ff424cf663a94">schema::schema_definition::add_message</a></div><div class="ttdeci">virtual void add_message(int message_id)=0</div></div>
<div class="ttc" id="classschema_html_a878c75dd3b1b4fcd6d94e6713826a4c8"><div class="ttname"><a href="classschema.html#a878c75dd3b1b4fcd6d94e6713826a4c8">schema::get_field_info</a></div><div class="ttdeci">virtual field_info get_field_info(int schema_id, int index)=0</div></div>
<div class="ttc" id="classschema_html_af5ebc6493549cfd50dfb5d24bdc70f2f"><div class="ttname"><a href="classschema.html#af5ebc6493549cfd50dfb5d24bdc70f2f">schema::get_message</a></div><div class="ttdeci">virtual int get_message(int message_id, int field_tag)=0</div></div>
<div class="ttc" id="classschema_html_ab4b08ae187ed02c22145275a4f6b1e48"><div class="ttname"><a href="classschema.html#ab4b08ae187ed02c22145275a4f6b1e48">schema::set_repeated_string</a></div><div class="ttdeci">virtual void set_repeated_string(int message_id, int field_tag, const std::string &amp;value, int index)=0</div></div>
<div class="ttc" id="classschema_html_ae674b0dfe6af47873d7af4539945349aa6b7cc7d0aba9682c549a0243ff5dff9d"><div class="ttname"><a href="classschema.html#ae674b0dfe6af47873d7af4539945349aa6b7cc7d0aba9682c549a0243ff5dff9d">schema::int32</a></div><div class="ttdef"><b>Definition:</b> schema.h:31</div></div>
<div class="ttc" id="classschema_1_1schema__definition_html_a7878a1e8ca558bf40f434e1756e7772f"><div class="ttname"><a href="classschema_1_1schema__definition.html#a7878a1e8ca558bf40f434e1756e7772f">schema::schema_definition::add_nested_message</a></div><div class="ttdeci">virtual void add_nested_message(int message_id, int sub_message_id)=0</div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_dd14932742b914b8a181ffde7b908fda.html">schema</a></li><li class="navelem"><a class="el" href="schema_8h.html">schema.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
